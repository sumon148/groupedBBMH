% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/posterior_predictive_checks.R
\name{ppc_barplot}
\alias{ppc_barplot}
\title{Posterior Predictive Check: Barplot for Observed vs. Simulated Counts and Proportions}
\usage{
ppc_barplot(ty, yrep, trial)
}
\arguments{
\item{ty}{Integer vector. Observed counts (e.g., number of infected bags per batch).}

\item{yrep}{Matrix. Simulated count outcomes from the posterior predictive distribution.
Each row corresponds to one posterior draw, and columns to group-level outcomes.}

\item{trial}{Integer. Maximum number of possible positives (i.e., number of trials or test replicates per batch).}
}
\value{
A named list of ggplot objects and summary data frames:
\describe{
\item{\code{count.summary}}{Summary statistics (mean, median, 95\% CI) for count-based PPC.}
\item{\code{prop.summary}}{Summary statistics for proportion-based PPC.}
\item{\code{p.counts}}{Side-by-side barplots for counts (zero vs. non-zero) with 95\% CI.}
\item{\code{p.prop}}{Proportional version of \code{p.counts}.}
\item{\code{p.prop.zero}}{Barplots comparing zero vs. non-zero proportions with CIs.}
\item{\code{count.zero.summary}}{Summary of zero and non-zero count frequencies.}
\item{\code{p.zero.non.zero}}{Dual-axis plot showing zero and non-zero count comparisons.}
\item{\code{prop.zero.non.zero}}{Dual-axis plot showing zero and non-zero proportions.}
}
}
\description{
Generates diagnostic barplots for observed vs. posterior predictive simulated counts
and proportions in grouped binomial models, tailored for considered import case study.
Includes plots with 95\% credible intervals, observed values, and side-by-side
comparisons of zero and non-zero group outcomes. Various types of plots are examined through this function.
}
\details{
The function is designed for posterior predictive checking in models with grouped data,
such as pooled testing studies. It provides separate visualizations for:
\itemize{
\item Raw count distributions (zero vs. non-zero infected groups)
\item Proportions of groups by infection count
\item Combined dual-axis plots showing comparisons between zero and non-zero groups
}

Zero counts are handled separately to highlight sparsity in grouped outcomes.
}
\examples{
\dontrun{
# Simulate observed data and posterior draws
ty <- c(0, 1, 0, 2, 0, 3, 1)
yrep <- matrix(sample(0:3, 700, replace = TRUE), nrow = 100)
trial <- 3
plots <- ppc.barplot.prawn(ty, yrep, trial)

# View the main count comparison plot
print(plots$p.counts)
}

}
